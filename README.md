# Вариант №9

## Задание №1
Разработать эмулятор для языка оболочки ОС, с максимально приближенной работой к сеансу shell в UNIX-подобной ОС. Эмулятор должен запускаться из командной строки и не требовать распаковки файла виртуальной файловой системы у пользователя. Эмулятор принимает образ виртуальной файловой системы в формате `.tar` и работает в режиме CLI.

Конфигурационный файл должен быть в формате JSON и содержать:
- Имя пользователя для отображения в приглашении к вводу.
- Путь к архиву виртуальной файловой системы.
- Путь к стартовому скрипту.

Стартовый скрипт выполняет начальный список команд из файла. В эмуляторе необходимо поддержать команды `ls`, `cd`, `exit`, а также следующие команды:
1. `clear`
2. `cp`

Все функции эмулятора должны быть покрыты тестами, при этом для каждой поддерживаемой команды нужно написать по 2 теста.

## Задание №2
Создать инструмент командной строки для визуализации графа зависимостей, включая транзитивные зависимости, без использования сторонних средств для получения зависимостей. Зависимости определяются по имени пакета ОС Ubuntu (apt). Для представления графа зависимостей используется формат Mermaid. Визуализатор должен выводить сообщение об успешном выполнении и сохранять граф в формате `.png`.

Конфигурационный файл должен быть в формате YAML и содержать:
- Путь к программе для визуализации графов.
- Имя анализируемого пакета.
- Путь к файлу с изображением графа зависимостей.
- Максимальная глубина анализа зависимостей.

Все функции визуализатора зависимостей должны быть покрыты тестами.

## Задание №3
Разработать инструмент командной строки для учебного конфигурационного языка с синтаксисом, приведенным ниже. Инструмент преобразует текст из входного формата в выходной, выявляя синтаксические ошибки с выводом соответствующих сообщений.

Входной текст на учебном конфигурационном языке принимается из файла, путь к которому указывается через ключ командной строки. Выходной текст на языке toml записывается в файл, путь к которому также задается ключом командной строки.

Синтаксис:
- **Многострочные комментарии**:
- **Словари**:
- **Имена**: `[a-z]+`
- **Значения**:
- Числа.
- Строки.
- Словари.

- **Строки**: `"Это строка"`
- **Объявление константы на этапе трансляции**:
- **Вычисление константы на этапе трансляции**:

Результатом вычисления константного выражения является значение. Все конструкции учебного конфигурационного языка (с учетом их возможной вложенности) должны быть покрыты тестами. Требуется показать 3 примера конфигураций из различных предметных областей.

## Задание №4
Разработать ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Система команд УВМ представлена ниже.

Для ассемблера необходимо разработать читаемое представление команд УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к которому задается из командной строки. Результатом работы ассемблера является бинарный файл в виде последовательности байт, путь к которому задается из командной строки. Дополнительный ключ командной строки задает путь к файлу лога, в котором хранятся ассемблированные инструкции в виде списка `ключ=значение`, как показано в приведенных далее тестах.

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ и сохраняет значения из диапазона памяти УВМ в файле-результате. Диапазон также указывается из командной строки.

Формат файлов лога и результата - JSON. Необходимо реализовать приведенные тесты для всех команд, а также написать и отладить тестовую программу.

### Примеры команд:
- **Загрузка константы**:  
Размер команды: 5 байт. Операнд: поле B. Результат: регистр-аккумулятор.  
Тест (A=5, B=148): `0x45, 0x09, 0x00, 0x00, 0x00`

- **Чтение значения из памяти**:  
Размер команды: 5 байт. Операнд: значение в памяти по адресу, который является суммой адреса (регистр-аккумулятор) и смещения (поле B). Результат: регистр-аккумулятор.  
Тест (A=15, B=20): `0x4F, 0x01, 0x00, 0x00, 0x00`

- **Запись значения в память**:  
Размер команды: 5 байт. Операнд: регистр-аккумулятор. Результат: значение в памяти по адресу, которым является поле B.  
Тест (A=12, B=547): `0x3C, 0x22, 0x00, 0x00, 0x00`

- **Бинарная операция: умножение**:  
Размер команды: 5 байт. Первый операнд: регистр-аккумулятор. Второй операнд: значение в памяти по адресу, которым является поле B. Результат: регистр-аккумулятор.  
Тест (A=11, B=762): `0xAB, 0x2F, 0x00, 0x00, 0x00`

- **Тестовая программа**: Выполнить поэлементно операцию умножение над двумя векторами длины 5 и записать результат во второй вектор.

